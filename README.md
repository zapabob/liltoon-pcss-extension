# lilToon PCSS Extension

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Unity Version](https://img.shields.io/badge/Unity-2019.4%2B-blue.svg)](https://unity3d.com/get-unity/download)
[![lilToon Compatible](https://img.shields.io/badge/lilToon-Compatible-purple.svg)](https://github.com/lilxyzw/lilToon)
[![Poiyomi Compatible](https://img.shields.io/badge/Poiyomi-Compatible-pink.svg)](https://poiyomi.com/)
[![VRChat Ready](https://img.shields.io/badge/VRChat-Ready-green.svg)](https://hello.vrchat.com/)
[![Expression Control](https://img.shields.io/badge/VRChat-Expression%20Control-red.svg)](https://hello.vrchat.com/)
[![VRC Light Volumes](https://img.shields.io/badge/VRC%20Light%20Volumes-Supported-orange.svg)](https://github.com/REDSIM/VRCLightVolumes)

**é«˜å“è³ªãªã‚½ãƒ•ãƒˆã‚·ãƒ£ãƒ‰ã‚¦ã‚’ã‚¢ãƒã‚¿ãƒ¼ã«ã€‚lilToon & Poiyomiç”¨PCSSï¼ˆPercentage-Closer Soft Shadowsï¼‰æ‹¡å¼µãƒ—ãƒ©ã‚°ã‚¤ãƒ³**

> **ğŸ†• v1.2.0 æ–°æ©Ÿèƒ½**: VRC Light Volumesçµ±åˆï¼æ¬¡ä¸–ä»£ãƒ©ã‚¤ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ ã¨PCSSã®å®Œå…¨èåˆï¼

![PCSS Extension Banner](https://via.placeholder.com/800x300/2D3748/FFFFFF?text=lilToon+PCSS+Extension)

## âœ¨ ç‰¹å¾´

### ğŸ¨ **æ˜ ç”»å“è³ªã®ã‚½ãƒ•ãƒˆã‚·ãƒ£ãƒ‰ã‚¦**
- **PCSSæŠ€è¡“æ¡ç”¨**: å…‰æºã‹ã‚‰ã®è·é›¢ã«å¿œã˜ã¦è‡ªç„¶ã«ã¼ã‘ã‚‹ãƒªã‚¢ãƒ«ãªå½±
- **é«˜å“è³ªã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°**: 64ç‚¹Poisson Diskã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ã«ã‚ˆã‚‹ãƒã‚¤ã‚ºãƒ¬ã‚¹å‡¦ç†
- **ã‚¢ãƒ³ãƒã‚¨ã‚¤ãƒªã‚¢ã‚¹**: æ»‘ã‚‰ã‹ã§ç¾ã—ã„å½±ã®å¢ƒç•Œ
- **ğŸ†• VRC Light Volumesçµ±åˆ**: æ¬¡ä¸–ä»£ãƒœã‚¯ã‚»ãƒ«ãƒ©ã‚¤ãƒ†ã‚£ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ å¯¾å¿œ

### ğŸš€ **ç°¡å˜æ“ä½œ**
- **ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯è¨­å®š**: å“è³ªãƒ—ãƒªã‚»ãƒƒãƒˆã§å³åº§ã«æœ€é©åŒ–
- **lilToon & Poiyomiçµ±åˆ**: æ—¢å­˜ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å¤‰æ›´ã›ãšã«ä½¿ç”¨å¯èƒ½
- **VRChatã‚¨ã‚¯ã‚¹ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³**: ã‚²ãƒ¼ãƒ å†…ã§ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ¶å¾¡
- **GUIçµ±åˆ**: ç›´æ„Ÿçš„ãªã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼

### âš¡ **é«˜æ€§èƒ½**
- **é©å¿œçš„ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°**: å“è³ªã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æœ€é©ãƒãƒ©ãƒ³ã‚¹
- **VRChatæœ€é©åŒ–**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ©ãƒ³ã‚¯ã‚’è€ƒæ…®ã—ãŸè¨­è¨ˆ
- **ModularAvatarå¯¾å¿œ**: ã‚¢ãƒã‚¿ãƒ¼æ”¹å¤‰ã«æœ€é©

## ğŸ“¸ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ

| é€šå¸¸ã®ã‚·ãƒ£ãƒ‰ã‚¦ | PCSSæœ‰åŠ¹ |
|:---:|:---:|
| ![Standard Shadow](https://via.placeholder.com/300x200/E2E8F0/718096?text=Standard+Shadow) | ![PCSS Shadow](https://via.placeholder.com/300x200/E2E8F0/718096?text=PCSS+Soft+Shadow) |

## ğŸ¯ å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼

- **VRChatã‚¢ãƒã‚¿ãƒ¼åˆ¶ä½œè€…**: ã‚ˆã‚Šç¾ã—ã„ã‚¢ãƒã‚¿ãƒ¼ã‚’ä½œã‚ŠãŸã„æ–¹
- **lilToon & Poiyomiãƒ¦ãƒ¼ã‚¶ãƒ¼**: æ—¢å­˜ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æ´»ã‹ã—ãŸã„æ–¹
- **å“è³ªé‡è¦–ã®ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼**: æ˜ ç”»å“è³ªã®å½±è¡¨ç¾ã‚’æ±‚ã‚ã‚‹æ–¹
- **ã‚¨ã‚¯ã‚¹ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³æ´»ç”¨è€…**: ã‚²ãƒ¼ãƒ å†…ã§å‹•çš„ã«è¨­å®šã‚’å¤‰æ›´ã—ãŸã„æ–¹

## ğŸ”§ ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶

| é …ç›® | è¦ä»¶ |
|------|------|
| **Unity** | 2019.4 LTSä»¥é™ |
| **lilToon** | æœ€æ–°ç‰ˆæ¨å¥¨ |
| **Poiyomi** | Toon Shader 8.0ä»¥é™ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ |
| **VRChat SDK** | æœ€æ–°ç‰ˆï¼ˆã‚¨ã‚¯ã‚¹ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³æ©Ÿèƒ½ä½¿ç”¨æ™‚ï¼‰ |
| **ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³** | Built-in RP / URP |
| **ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ** | PCï¼ˆãƒ¢ãƒã‚¤ãƒ«ã¯åˆ¶é™ã‚ã‚Šï¼‰ |

## ğŸ“¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### æ–¹æ³•1: UPMãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆæ¨å¥¨ï¼‰

1. **Unityã‚’é–‹ã**
2. **Window > Package Manager**ã‚’é¸æŠ
3. **ã€Œ+ã€> Add package from git URL**ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ä»¥ä¸‹ã®URLã‚’å…¥åŠ›ï¼š
   ```
   https://github.com/zapabob/liltoon-pcss-extension.git
   ```

### æ–¹æ³•2: UnityPackage

1. [Releases](https://github.com/zapabob/liltoon-pcss-extension/releases)ã‹ã‚‰æœ€æ–°ç‰ˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
2. Unityãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«D&Dã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆ

> **âš ï¸ æ³¨æ„**: äº‹å‰ã«[lilToon](https://github.com/lilxyzw/lilToon)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ãƒãƒ†ãƒªã‚¢ãƒ«è¨­å®š

#### lilToonä½¿ç”¨æ™‚
1. **æ–°ã—ã„ãƒãƒ†ãƒªã‚¢ãƒ«ã‚’ä½œæˆ**
2. **ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã‚’ã€ŒlilToon/PCSS Extensionã€ã«å¤‰æ›´**
3. **ã€ŒPCSSåŠ¹æœã‚’ä½¿ç”¨ã€ã‚’ON**
4. **å“è³ªãƒ—ãƒªã‚»ãƒƒãƒˆã‚’é¸æŠ**

#### Poiyomiä½¿ç”¨æ™‚
1. **æ–°ã—ã„ãƒãƒ†ãƒªã‚¢ãƒ«ã‚’ä½œæˆ**
2. **ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã‚’ã€ŒPoiyomi/Toon/PCSS Extensionã€ã«å¤‰æ›´**
3. **ã€ŒEnable PCSSã€ã‚’ON**
4. **å“è³ªãƒ—ãƒªã‚»ãƒƒãƒˆã‚’é¸æŠ**

```
æ¨å¥¨è¨­å®š:
- VRChatä½¿ç”¨: Medium
- PCç’°å¢ƒ: High  
- è»½é‡åŒ–é‡è¦–: Low
```

### 2. ã‚¢ãƒã‚¿ãƒ¼ä¸€æ‹¬é©ç”¨

1. **ã‚¢ãƒã‚¿ãƒ¼ã‚’é¸æŠ**
2. **ã€ŒlilToon > PCSS Avatar Setupã€ã‚’é–‹ã**
3. **å“è³ªè¨­å®šã‚’é¸æŠã—ã¦ã€Œé©ç”¨ã€**

![Setup Window](https://via.placeholder.com/400x300/F7FAFC/4A5568?text=PCSS+Setup+Window)

## âš™ï¸ å“è³ªè¨­å®š

| å“è³ªãƒ¬ãƒ™ãƒ« | ã‚µãƒ³ãƒ—ãƒ«æ•° | ç”¨é€” | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ |
|------------|------------|------|----------------|
| **Low** | 8 | ãƒ¢ãƒã‚¤ãƒ«ãƒ»è»½é‡åŒ– | â­â­â­â­â­ |
| **Medium** | 16 | VRChatãƒ»ãƒãƒ©ãƒ³ã‚¹ | â­â­â­â­ |
| **High** | 32 | PCãƒ»é«˜å“è³ª | â­â­â­ |
| **Ultra** | 64 | æœ€é«˜å“è³ª | â­â­ |

## ğŸ® ModularAvatarçµ±åˆ

### è‡ªå‹•ç”Ÿæˆã•ã‚Œã‚‹åˆ¶å¾¡

- **PCSS_Enable**: ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã®ON/OFF
- **PCSS_Quality**: å“è³ªãƒ¬ãƒ™ãƒ«åˆ¶å¾¡ï¼ˆ0-3ï¼‰

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

1. **ModularAvatarã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**
2. **PCSS Extensionã‚’é©ç”¨**
3. **è‡ªå‹•çš„ã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒç”Ÿæˆ**

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### æ¨å¥¨è¨­å®š

```hlsl
// VRChatç”¨æ¨å¥¨è¨­å®š
Blocker Search Radius: 0.01
Filter Radius: 0.02
Sample Count: 16
Light Size: 1.5
```

### æœ€é©åŒ–ã®ã‚³ãƒ„

- **ä¸è¦ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**: Cast Shadowsã‚’ã‚ªãƒ•
- **å°ã•ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ**: Receive Shadowsã‚’ã‚ªãƒ•
- **Shadow Distance**: é©åˆ‡ãªå€¤ã«è¨­å®šï¼ˆ50-150ï¼‰

## ğŸ”Œ API ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

### åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•

```csharp
using lilToon.PCSS;

// ã‚¢ãƒã‚¿ãƒ¼ã«PCSSã‚’é©ç”¨
PCSSUtilities.ApplyToAvatar(avatar, PCSSQuality.Medium, true);

// ãƒãƒ†ãƒªã‚¢ãƒ«ã§PCSSã‚’æœ‰åŠ¹åŒ–
PCSSUtilities.EnablePCSS(material, true);

// å“è³ªè¨­å®šã‚’é©ç”¨
PCSSUtilities.ApplyQualitySettings(material, PCSSQuality.High);

// è¨­å®šã®æ¤œè¨¼
bool isValid = PCSSUtilities.ValidatePCSSSettings(material);
```

### é«˜åº¦ãªåˆ¶å¾¡

```csharp
// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è­¦å‘Šã®ç¢ºèª
string warning = PCSSUtilities.GetPerformanceWarning(material);
if (!string.IsNullOrEmpty(warning))
{
    Debug.LogWarning(warning);
}

// PCSSå¯¾å¿œãƒãƒ†ãƒªã‚¢ãƒ«ã®ç¢ºèª
bool isPCSSMaterial = PCSSUtilities.IsPCSSMaterial(material);
```

## ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

<details>
<summary><strong>å½±ãŒè¡¨ç¤ºã•ã‚Œãªã„</strong></summary>

**è§£æ±ºæ–¹æ³•:**
1. Lightã®**Shadows**ãŒ**Soft Shadows**ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª
2. ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®**Cast Shadows**ã¨**Receive Shadows**ãŒæœ‰åŠ¹ã‹ç¢ºèª
3. **Use Shadow**ãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª
</details>

<details>
<summary><strong>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒæ‚ªã„</strong></summary>

**è§£æ±ºæ–¹æ³•:**
1. **Sample Count**ã‚’ä¸‹ã’ã‚‹ï¼ˆ16ä»¥ä¸‹æ¨å¥¨ï¼‰
2. **Shadow Resolution**ã‚’ä¸‹ã’ã‚‹
3. **Shadow Distance**ã‚’çŸ­ãã™ã‚‹
</details>

<details>
<summary><strong>å½±ãŒç²—ã„</strong></summary>

**è§£æ±ºæ–¹æ³•:**
1. **Shadow Resolution**ã‚’ä¸Šã’ã‚‹ï¼ˆ2048ä»¥ä¸Šï¼‰
2. **Sample Count**ã‚’å¢—ã‚„ã™
3. **Shadow Bias**ã‚’èª¿æ•´ã™ã‚‹ï¼ˆ0.05-0.1ï¼‰
</details>

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [ğŸ“– åŸºæœ¬ä½¿ç”¨ã‚¬ã‚¤ãƒ‰](liltoon_pcss_readme.md)
- [ğŸ® ModularAvatarçµ±åˆã‚¬ã‚¤ãƒ‰](PCSS_ModularAvatar_Guide.md)
- [ğŸ¨ Poiyomi & VRChatã‚¨ã‚¯ã‚¹ãƒ—ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰](PCSS_Poiyomi_VRChat_Guide.md)
- [ğŸ“‹ å®Ÿè£…ãƒ­ã‚°](_docs/2025-01-24_liltoon-pcss-extension.md)

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®è²¢çŒ®ã‚’æ­“è¿ã—ã¾ã™ï¼

1. **Forkã™ã‚‹**
2. **ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ** (`git checkout -b feature/amazing-feature`)
3. **å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ** (`git commit -m 'Add amazing feature'`)
4. **ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥** (`git push origin feature/amazing-feature`)
5. **Pull Requestã‚’ä½œæˆ**

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯[MIT License](LICENSE)ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ™ è¬è¾

- **[lilxyzw](https://github.com/lilxyzw)** - ç´ æ™´ã‚‰ã—ã„lilToonã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã‚·ã‚¹ãƒ†ãƒ 
- **VRChatã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£** - ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã¨ã‚µãƒãƒ¼ãƒˆ
- **Unity Technologies** - é–‹ç™ºç’°å¢ƒã®æä¾›

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

- **Issues**: [GitHub Issues](https://github.com/zapabob/liltoon-pcss-extension/issues)
- **Discord**: [VRChatã‚¢ãƒã‚¿ãƒ¼åˆ¶ä½œã‚µãƒ¼ãƒãƒ¼](#)
- **Twitter**: [@zapabob](#)

## ğŸ”— é–¢é€£ãƒªãƒ³ã‚¯

- [lilToonå…¬å¼](https://github.com/lilxyzw/lilToon)
- [VRChatå…¬å¼](https://hello.vrchat.com/)
- [ModularAvatar](https://modular-avatar.nadena.dev/)
- [Unityå…¬å¼](https://unity.com/)

---

<div align="center">

**ğŸŒŸ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒå½¹ã«ç«‹ã£ãŸã‚‰ã€ã‚¹ã‚¿ãƒ¼ã‚’ã¤ã‘ã¦ãã ã•ã„ï¼ ğŸŒŸ**

[![GitHub stars](https://img.shields.io/github/stars/zapabob/liltoon-pcss-extension?style=social)](https://github.com/zapabob/liltoon-pcss-extension/stargazers)

</div> 