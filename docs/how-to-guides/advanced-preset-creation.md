# é«˜åº¦ãªãƒ—ãƒªã‚»ãƒƒãƒˆä½œæˆã‚¬ã‚¤ãƒ‰

## ðŸŽ¯ æ¦‚è¦

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€lilToon PCSS Extensionã‚’ä½¿ç”¨ã—ã¦é«˜åº¦ãªã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒªã‚»ãƒƒãƒˆã‚’ä½œæˆã™ã‚‹æ–¹æ³•ã‚’èª¬æ˜Žã—ã¾ã™ã€‚åŸºæœ¬çš„ãªä½¿ç”¨æ–¹æ³•ã‚’ãƒžã‚¹ã‚¿ãƒ¼ã—ãŸæ–¹å‘ã‘ã®å®Ÿè·µçš„ãªã‚¬ã‚¤ãƒ‰ã§ã™ã€‚

## ðŸ“‹ å‰ææ¡ä»¶

- [å…¥é–€ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](../tutorials/getting-started.md)ã‚’å®Œäº†ã—ã¦ã„ã‚‹ã“ã¨
- Unity Editorã®åŸºæœ¬çš„ãªæ“ä½œã«æ…£ã‚Œã¦ã„ã‚‹ã“ã¨
- ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã®åŸºæœ¬çš„ãªæ¦‚å¿µã‚’ç†è§£ã—ã¦ã„ã‚‹ã“ã¨

## ðŸŽ¨ ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ—ãƒªã‚»ãƒƒãƒˆã®åˆ†æž

### æ—¢å­˜ãƒ—ãƒªã‚»ãƒƒãƒˆã®ç†è§£

ã¾ãšã€æ—¢å­˜ã®ãƒ—ãƒªã‚»ãƒƒãƒˆãŒã©ã®ã‚ˆã†ãªè¨­å®šã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‹ã‚’ç†è§£ã—ã¾ã—ã‚‡ã†ï¼š

```csharp
// ãƒªã‚¢ãƒ«é¢¨ã‚»ãƒƒãƒˆã®ä¾‹
{
    shadowDistance = 3.0f,        // å½±ã®è·é›¢
    shadowSoftness = 0.7f,        // å½±ã®æŸ”ã‚‰ã‹ã•
    shadowIntensity = 1.2f,       // å½±ã®å¼·åº¦
    shadowSamples = 32,           // ã‚·ãƒ£ãƒ‰ã‚¦ã‚µãƒ³ãƒ—ãƒ«æ•°
    filterRadius = 1.5f,          // ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼åŠå¾„
    shadowBias = 0.03f,           // ã‚·ãƒ£ãƒ‰ã‚¦ãƒã‚¤ã‚¢ã‚¹
    shadowColor = new Color(0.1f, 0.1f, 0.15f, 1.0f), // å½±ã®è‰²
    ambientOcclusion = 0.4f       // ã‚¢ãƒ³ãƒ“ã‚¨ãƒ³ãƒˆã‚ªã‚¯ãƒ«ãƒ¼ã‚¸ãƒ§ãƒ³
}
```

### ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æ„å‘³

- **shadowDistance**: å½±ãŒè¡¨ç¤ºã•ã‚Œã‚‹æœ€å¤§è·é›¢
- **shadowSoftness**: å½±ã®å¢ƒç•Œã®æŸ”ã‚‰ã‹ã•ï¼ˆ0.0=ç¡¬ã„ã€1.0=æŸ”ã‚‰ã‹ã„ï¼‰
- **shadowIntensity**: å½±ã®æ¿ƒã•
- **shadowSamples**: å½±ã®å“è³ªï¼ˆæ•°å€¤ãŒé«˜ã„ã»ã©é«˜å“è³ªã ãŒé‡ã„ï¼‰
- **filterRadius**: å½±ã®ã¼ã‹ã—ã®ç¯„å›²
- **shadowBias**: å½±ã®ãšã‚Œã‚’é˜²ããŸã‚ã®èª¿æ•´å€¤
- **shadowColor**: å½±ã®è‰²ï¼ˆRGB + ã‚¢ãƒ«ãƒ•ã‚¡ï¼‰
- **ambientOcclusion**: ç’°å¢ƒå…‰ã®é®è”½åŠ¹æžœ

## ðŸ”§ ã‚¹ãƒ†ãƒƒãƒ—2: ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒªã‚»ãƒƒãƒˆã®ä½œæˆ

### åŸºæœ¬çš„ãªä½œæˆæ‰‹é †

1. **Tools > lilToon PCSS > é«˜åº¦ãªçµ±åˆãƒ—ãƒªã‚»ãƒƒãƒˆç®¡ç†**ã‚’é–‹ã
2. **ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒªã‚»ãƒƒãƒˆ**ã‚¿ãƒ–ã‚’é¸æŠž
3. **æ–°ã—ã„ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒªã‚»ãƒƒãƒˆã‚’ä½œæˆ**ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ä»¥ä¸‹ã®è¨­å®šã‚’èª¿æ•´ï¼š

### PCSSè¨­å®šã®èª¿æ•´

```csharp
// ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒªã‚»ãƒƒãƒˆã®ä¾‹
var customPreset = new PCSSPresetManager.PCSSSettings
{
    // åŸºæœ¬è¨­å®š
    shadowDistance = 2.5f,
    shadowSoftness = 0.6f,
    shadowIntensity = 1.1f,
    shadowSamples = 24,
    filterRadius = 1.2f,
    shadowBias = 0.04f,
    
    // è‰²è¨­å®š
    shadowColor = new Color(0.15f, 0.15f, 0.2f, 1.0f),
    
    // åŠ¹æžœè¨­å®š
    ambientOcclusion = 0.35f,
    
    // å¤–éƒ¨ãƒ©ã‚¤ãƒˆè¨­å®š
    enableExternalLights = true,
    externalLightIntensity = 1.3f,
    externalLightColor = new Color(1.0f, 0.98f, 0.95f, 1.0f),
    externalLightAngle = 40.0f,
    
    // ã‚¹ã‚¿ã‚¤ãƒ«è¨­å®š
    enableAnimeStyle = false,
    enableCinematicStyle = true,
    filmGrain = 0.1f,
    vignette = 0.2f,
    bloom = 0.3f
};
```

### ãƒ©ã‚¤ãƒˆè¨­å®šã®èª¿æ•´

```csharp
var lightSettings = new ExternalLightManager.ExternalLightSettings
{
    // åŸºæœ¬è¨­å®š
    lightName = "ã‚«ã‚¹ã‚¿ãƒ ãƒ©ã‚¤ãƒˆ",
    lightType = LightType.Directional,
    intensity = 1.3f,
    color = new Color(1.0f, 0.98f, 0.95f, 1.0f),
    
    // ä½ç½®ã¨è§’åº¦
    position = new Vector3(0, 3, 5),
    rotation = new Vector3(40, 0, 0),
    distance = 5.0f,
    
    // ã‚·ãƒ£ãƒ‰ã‚¦è¨­å®š
    shadows = LightShadows.Soft,
    shadowStrength = 0.9f,
    shadowResolution = 2048,
    
    // ã‚¹ã‚¿ã‚¤ãƒ«è¨­å®š
    enableAnimeStyle = false,
    enableCinematicStyle = true,
    cinematicLightColor = new Color(1.0f, 0.98f, 0.95f, 1.0f),
    cinematicIntensity = 1.3f,
    cinematicAngle = 40.0f
};
```

## ðŸŽ¯ ã‚¹ãƒ†ãƒƒãƒ—3: åŠ¹æžœçš„ãªãƒ—ãƒªã‚»ãƒƒãƒˆè¨­è¨ˆ

### ç”¨é€”åˆ¥ã®è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³

#### ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆæ’®å½±å‘ã‘

```csharp
// ç¾Žã—ã„è‚Œã®è³ªæ„Ÿã‚’å¼·èª¿
{
    shadowDistance = 2.0f,        // è¿‘è·é›¢ã§è©³ç´°ãªå½±
    shadowSoftness = 0.8f,        // æŸ”ã‚‰ã‹ã„å½±ã§è‡ªç„¶ãªå°è±¡
    shadowIntensity = 1.1f,       // é©åº¦ãªå½±ã®å¼·åº¦
    shadowSamples = 32,           // é«˜å“è³ªãªå½±
    shadowColor = new Color(0.12f, 0.12f, 0.18f, 1.0f), // æš–ã‹ã¿ã®ã‚ã‚‹å½±
    ambientOcclusion = 0.3f,      // è»½ã„AOåŠ¹æžœ
    externalLightColor = new Color(1.0f, 0.98f, 0.95f, 1.0f), // æš–è‰²ç³»ãƒ©ã‚¤ãƒˆ
    filmGrain = 0.05f,            // è»½ã„ãƒ•ã‚£ãƒ«ãƒ ã‚°ãƒ¬ã‚¤ãƒ³
    vignette = 0.15f              // è»½ã„ãƒ“ãƒãƒƒãƒˆåŠ¹æžœ
}
```

#### ã‚²ãƒ¼ãƒ å‘ã‘ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹é‡è¦–ï¼‰

```csharp
// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã‚’é‡è¦–ã—ãŸè¨­å®š
{
    shadowDistance = 1.5f,        // çŸ­è·é›¢ã§è»½é‡åŒ–
    shadowSoftness = 0.4f,        // ç¡¬ã„å½±ã§è»½é‡åŒ–
    shadowIntensity = 0.9f,       // é©åº¦ãªå½±
    shadowSamples = 16,           // å°‘ãªã„ã‚µãƒ³ãƒ—ãƒ«æ•°
    filterRadius = 0.8f,          // å°ã•ãªãƒ•ã‚£ãƒ«ã‚¿ãƒ¼åŠå¾„
    shadowColor = new Color(0.2f, 0.2f, 0.25f, 1.0f), // æ¨™æº–çš„ãªå½±
    ambientOcclusion = 0.2f,      // è»½ã„AOåŠ¹æžœ
    externalLightIntensity = 1.0f, // æ¨™æº–çš„ãªãƒ©ã‚¤ãƒˆå¼·åº¦
    enableAnimeStyle = false,      // ç‰¹æ®ŠåŠ¹æžœã‚’ç„¡åŠ¹åŒ–
    enableCinematicStyle = false   // ç‰¹æ®ŠåŠ¹æžœã‚’ç„¡åŠ¹åŒ–
}
```

#### ã‚¢ãƒ‹ãƒ¡é¢¨å‘ã‘

```csharp
// ã‚¢ãƒ‹ãƒ¡ã‚„ãƒžãƒ³ã‚¬é¢¨ã®è¡¨ç¾
{
    shadowDistance = 1.0f,        // çŸ­è·é›¢ã§ã‚·ãƒ£ãƒ¼ãƒ—ãªå½±
    shadowSoftness = 0.2f,        // ç¡¬ã„å½±ã§ã‚¯ãƒªã‚¢ãªè¡¨ç¾
    shadowIntensity = 0.8f,       // é©åº¦ãªå½±
    shadowSamples = 16,           // æ¨™æº–çš„ãªã‚µãƒ³ãƒ—ãƒ«æ•°
    shadowColor = new Color(0.25f, 0.25f, 0.35f, 1.0f), // é’ã¿ãŒã‹ã£ãŸå½±
    ambientOcclusion = 0.15f,     // è»½ã„AOåŠ¹æžœ
    enableAnimeStyle = true,       // ã‚¢ãƒ‹ãƒ¡é¢¨åŠ¹æžœã‚’æœ‰åŠ¹åŒ–
    celShadingThreshold = 0.6f,   // ã‚»ãƒ«ã‚·ã‚§ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°é–¾å€¤
    celShadingSmoothness = 0.05f, // ã‚»ãƒ«ã‚·ã‚§ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®æ»‘ã‚‰ã‹ã•
    externalLightColor = new Color(1.0f, 1.0f, 1.0f, 1.0f) // ç´”ç™½ã®ãƒ©ã‚¤ãƒˆ
}
```

## ðŸ”„ ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ—ãƒªã‚»ãƒƒãƒˆã®ãƒ†ã‚¹ãƒˆã¨èª¿æ•´

### ãƒ†ã‚¹ãƒˆæ‰‹é †

1. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼**ã‚’ä½¿ç”¨ã—ã¦å³åº§ã«åŠ¹æžœã‚’ç¢ºèª
2. ç•°ãªã‚‹ã‚¢ãƒã‚¿ãƒ¼ã§ãƒ†ã‚¹ãƒˆ
3. ç•°ãªã‚‹ãƒ©ã‚¤ãƒ†ã‚£ãƒ³ã‚°ç’°å¢ƒã§ãƒ†ã‚¹ãƒˆ
4. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã‚’ç¢ºèª

### èª¿æ•´ã®ã‚³ãƒ„

- **shadowDistance**: ã‚·ãƒ¼ãƒ³ã®ã‚¹ã‚±ãƒ¼ãƒ«ã«åˆã‚ã›ã¦èª¿æ•´
- **shadowSoftness**: ã‚¢ãƒ¼ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã«åˆã‚ã›ã¦èª¿æ•´
- **shadowSamples**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã¨å“è³ªã®ãƒãƒ©ãƒ³ã‚¹
- **shadowColor**: å…¨ä½“çš„ãªãƒ ãƒ¼ãƒ‰ã«åˆã‚ã›ã¦èª¿æ•´

## ðŸ“ ã‚¹ãƒ†ãƒƒãƒ—5: ãƒ—ãƒªã‚»ãƒƒãƒˆã®ç®¡ç†

### ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ž

ãƒ—ãƒªã‚»ãƒƒãƒˆã‚’åŠ¹æžœçš„ã«ç®¡ç†ã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã®ã‚«ãƒ†ã‚´ãƒªã‚’ä½¿ç”¨ï¼š

- **ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆ**: äººç‰©æ’®å½±å‘ã‘
- **ã‚²ãƒ¼ãƒ **: ã‚²ãƒ¼ãƒ å‘ã‘ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹é‡è¦–ï¼‰
- **ã‚¢ãƒ‹ãƒ¡**: ã‚¢ãƒ‹ãƒ¡é¢¨è¡¨ç¾
- **æ˜ ç”»**: æ˜ ç”»é¢¨è¡¨ç¾
- **ã‚«ã‚¹ã‚¿ãƒ **: ç‹¬è‡ªã®è¨­å®š

### ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®æ´»ç”¨

```csharp
var preset = new CustomPreset
{
    name = "ç¾Žè‚Œãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆ",
    description = "ç¾Žã—ã„è‚Œã®è³ªæ„Ÿã‚’å¼·èª¿ã™ã‚‹ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆå‘ã‘ãƒ—ãƒªã‚»ãƒƒãƒˆ",
    category = "ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆ",
    author = "ãƒ¦ãƒ¼ã‚¶ãƒ¼å",
    creationDate = System.DateTime.Now,
    // è¨­å®šå†…å®¹...
};
```

## ðŸš€ ã‚¹ãƒ†ãƒƒãƒ—6: é«˜åº¦ãªãƒ†ã‚¯ãƒ‹ãƒƒã‚¯

### æ¡ä»¶ä»˜ãè¨­å®š

```csharp
// ã‚¢ãƒã‚¿ãƒ¼ã®ç¨®é¡žã«å¿œã˜ã¦è¨­å®šã‚’å¤‰æ›´
if (avatarType == AvatarType.Human)
{
    settings.shadowSoftness = 0.8f;  // äººé–“å‘ã‘ã®æŸ”ã‚‰ã‹ã„å½±
    settings.externalLightColor = new Color(1.0f, 0.98f, 0.95f, 1.0f); // æš–è‰²ç³»
}
else if (avatarType == AvatarType.Anime)
{
    settings.shadowSoftness = 0.3f;  // ã‚¢ãƒ‹ãƒ¡å‘ã‘ã®ç¡¬ã„å½±
    settings.enableAnimeStyle = true;
}
```

### å‹•çš„èª¿æ•´

```csharp
// æ™‚é–“ã«å¿œã˜ã¦ãƒ©ã‚¤ãƒˆã®è‰²ã‚’å¤‰æ›´
var timeOfDay = System.DateTime.Now.Hour;
if (timeOfDay >= 6 && timeOfDay < 18)
{
    // æ˜¼é–“ã®è¨­å®š
    settings.externalLightColor = new Color(1.0f, 1.0f, 1.0f, 1.0f);
}
else
{
    // å¤œé–“ã®è¨­å®š
    settings.externalLightColor = new Color(0.8f, 0.8f, 1.0f, 1.0f);
}
```

## ðŸ“š å‚è€ƒè³‡æ–™

- [PCSSè¨­å®šãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](../reference/pcss-settings.md)
- [ãƒ©ã‚¤ãƒˆè¨­å®šãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹](../reference/light-settings.md)
- [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹æœ€é©åŒ–ã‚¬ã‚¤ãƒ‰](../how-to-guides/performance-optimization.md)

## ðŸ†˜ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

**Q: ãƒ—ãƒªã‚»ãƒƒãƒˆãŒæœŸå¾…é€šã‚Šã«å‹•ä½œã—ãªã„**
A: ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š
- ã‚¢ãƒã‚¿ãƒ¼ã®ãƒžãƒ†ãƒªã‚¢ãƒ«ãŒlilToonã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‹
- URPãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹
- ä¾å­˜é–¢ä¿‚ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒæ­£ã—ã„ã‹

**Q: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ãŒæ‚ªã„**
A: ä»¥ä¸‹ã‚’è©¦ã—ã¦ãã ã•ã„ï¼š
- shadowSamplesã‚’æ¸›ã‚‰ã™
- shadowDistanceã‚’çŸ­ãã™ã‚‹
- ç‰¹æ®ŠåŠ¹æžœã‚’ç„¡åŠ¹åŒ–ã™ã‚‹

---

**ãªã‚“ï½Šé¢¨ã«è¨€ã†ã¨ã€Œã“ã‚Œã§ãƒ—ãƒ­ç´šã®ãƒ—ãƒªã‚»ãƒƒãƒˆãŒä½œã‚Œã‚‹ãœï¼ã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚ºã§å·®åˆ¥åŒ–ã ï¼ã€** ðŸ’ªðŸ”¥ 